(()=>{"use strict";var e={809:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.runMyActivity=void 0;const n=l(593),o=async()=>{var e,t,l,u;await n.sleep(1e3);const a=setTimeout(o,3e3);if(!(null===(e=document.getElementsByClassName("c-perpetual-placeorder-market"))||void 0===e?void 0:e[0]))return clearTimeout(a),await n.sleep(1e3),void o();if(!(null===(t=document.getElementsByClassName("section-execute"))||void 0===t?void 0:t[0]))return;const r=document.querySelector(".section-type");if(!r)return clearTimeout(a),await n.sleep(1e3),void o();clearTimeout(a);let c=document.createElement("select");c.className="el-button via-btn-switch type-button ms-6 el-button--default",c.onchange=i;const d=document.createElement("option");d.innerText="No Stop",c.appendChild(d),[{label:"0.25",value:"8"},{label:"0.5",value:"4"},{label:"0.75",value:"3"},{label:"1",value:"2"}].map((e=>{const t=document.createElement("option");t.innerText=`${e.label}%`,t.style.color="red",t.value=e.value,c.appendChild(t)}));const s=document.createElement("input");s.type="number",s.maxLength=3,s.minLength=0,s.min="1",s.max="100",s.name="risk",s.placeholder="Risk(%)",s.className="el-button via-btn-switch type-button ms-6 el-button--default",null===(l=null==r?void 0:r.children)||void 0===l||l[0].appendChild(c),null===(u=null==r?void 0:r.children)||void 0===u||u[0].appendChild(s)};t.runMyActivity=o;const i=async e=>{var t,l,o,i,u,a,r,c,d,s,v;const m=null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.value;if(!m)return;let p=null===(l=document.getElementsByName("risk"))||void 0===l?void 0:l[0];p.value||(p.focus(),await n.sleep(300),p.value="2"),await n.sleep(300);const b=null===(a=null===(u=null===(i=null===(o=document.getElementsByClassName("c-exchange-placeorder-available"))||void 0===o?void 0:o[0])||void 0===i?void 0:i.querySelector(".cursor-pointer"))||void 0===u?void 0:u.querySelector("span"))||void 0===a?void 0:a.innerText;b||alert("موجودی نداری!");let y=2;2!==Number(p)&&(y=Number(p.value)/2),console.log(Number(p.value));const N=null===(c=null===(r=document.querySelector("div.lever"))||void 0===r?void 0:r.children)||void 0===c?void 0:c[2].innerHTML.replace("X",""),f=null===(v=null===(s=null===(d=document.getElementsByClassName("c-perpetual-quota-depth"))||void 0===d?void 0:d[0])||void 0===s?void 0:s.querySelector(".cursor-pointer"))||void 0===v?void 0:v.innerHTML,g=2!==y?y*(Number(m)*Number(b))/Number(N)*Number(N)/f:m*Number(b)/Number(N)*Number(N)/f;console.log({_risk:y}),await n.sleep(300),navigator.clipboard.writeText(String(g.toFixed(4))).then((function(){alert("کپی شد")}),(function(e){alert("کپی نشد "+e)}))}},593:(e,t)=>{function l(e){return new Promise((t=>{setTimeout(t,e)}))}Object.defineProperty(t,"__esModule",{value:!0}),t.setValue=t.sleep=void 0,t.sleep=l,t.setValue=async function(e,t,n){var o,i;await l(300),null===(o=e.getElementById(t))||void 0===o||o.focus(),await l(300),(e.getElementById(t)||{}).value=n,await l(300),null===(i=e.getElementById(t))||void 0===i||i.blur()}}},t={};function l(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,l),i.exports}(()=>{const e=l(809);location.href.includes("perpetual")&&e.runMyActivity()})()})();